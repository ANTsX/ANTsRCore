<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>FMM Segmentation — atropos • ANTsRCore</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="FMM Segmentation — atropos" />

<meta property="og:description" content="A finite mixture modeling (FMM) segmentation approach with possibilities for
specifying prior constraints. These prior constraints include the
specification of a prior label image, prior probability images (one for each
class), and/or an MRF prior to enforce spatial smoothing of the labels.
Similar algorithms include FAST and SPM.  atropos can also perform
multivariate segmentation if you pass a list of images in: e.g.
a=c(img1,img2)." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ANTsRCore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>FMM Segmentation</h1>
    
    <div class="hidden name"><code>atropos.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>A finite mixture modeling (FMM) segmentation approach with possibilities for
specifying prior constraints. These prior constraints include the
specification of a prior label image, prior probability images (one for each
class), and/or an MRF prior to enforce spatial smoothing of the labels.
Similar algorithms include FAST and SPM.  atropos can also perform
multivariate segmentation if you pass a list of images in: e.g.
<code>a=c(img1,img2)</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>atropos</span>(<span class='no'>a</span>, <span class='no'>x</span>, <span class='kw'>i</span> <span class='kw'>=</span> <span class='st'>"KMeans[3]"</span>, <span class='kw'>m</span> <span class='kw'>=</span> <span class='st'>"[0.2,1x1]"</span>, <span class='kw'>c</span> <span class='kw'>=</span> <span class='st'>"[5,0]"</span>,
  <span class='kw'>priorweight</span> <span class='kw'>=</span> <span class='fl'>0.25</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>use_random_seed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>a</th>
      <td><p>One or more scalar images to segment. If priors are not used, the intensities
of the first image are used to order the classes in the segmentation output, from lowest
to highest intensity. Otherwise the order of the classes is dictated by the order of the prior
images.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>mask image.</p></td>
    </tr>
    <tr>
      <th>i</th>
      <td><p>initialization usually <code>KMeans[N]</code> for N classes or a list of N prior probability images.
See Atropos in ANTs for full set of options.</p></td>
    </tr>
    <tr>
      <th>m</th>
      <td><p>mrf parameters as a string, usually <code>"[smoothingFactor,radius]"</code> where <code>smoothingFactor</code>
determines the amount of smoothing and radius determines the MRF neighborhood, as an ANTs style neighborhood
vector eg "1x1x1" for a 3D image. The radius must match the dimensionality of the image, eg 1x1 for 2D and
The default in ANTs is <code>smoothingFactor=0.3</code> and <code>radius=1</code>. See Atropos for more options.</p></td>
    </tr>
    <tr>
      <th>c</th>
      <td><p>convergence parameters, <code>"[numberOfIterations,convergenceThreshold]"</code>. A threshold of 0 runs
the full <code>numberOfIterations</code>, otherwise Atropos tests convergence by comparing the mean maximum posterior
probability over the whole region of interest defined by the mask <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>priorweight</th>
      <td><p>usually 0 (priors used for initialization only), 0.25 or 0.5.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>boolean</p></td>
    </tr>
    <tr>
      <th>use_random_seed</th>
      <td><p>Initialize internal random number generator with a random seed. 
Otherwise, initialize with a constant seed number.  If this is <code>TRUE</code>,
the results are not fully reproducible.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>more parameters, see Atropos help in ANTs</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>0 -- Success<br /> 1 -- Failure</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>img</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='antsImageRead.html'>antsImageRead</a></span>( <span class='fu'><a href='getANTsRData.html'>getANTsRData</a></span>(<span class='st'>"r16"</span>) , <span class='fl'>2</span> )
<span class='no'>img</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='resampleImage.html'>resampleImage</a></span>( <span class='no'>img</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>64</span>,<span class='fl'>64</span>), <span class='fl'>1</span>, <span class='fl'>0</span> )
<span class='no'>mask</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getMask.html'>getMask</a></span>(<span class='no'>img</span>)
<span class='no'>segs1</span> <span class='kw'>&lt;-</span> <span class='fu'>atropos</span>( <span class='kw'>a</span> <span class='kw'>=</span> <span class='no'>img</span>, <span class='kw'>m</span> <span class='kw'>=</span> <span class='st'>'[0.2,1x1]'</span>,
   <span class='kw'>c</span> <span class='kw'>=</span> <span class='st'>'[2,0]'</span>,  <span class='kw'>i</span> <span class='kw'>=</span> <span class='st'>'kmeans[3]'</span>, <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>mask</span> )

<span class='co'># Use probabilities from k-means seg as priors</span>

<span class='no'>segs2</span> <span class='kw'>&lt;-</span> <span class='fu'>atropos</span>( <span class='kw'>a</span> <span class='kw'>=</span> <span class='no'>img</span>, <span class='kw'>m</span> <span class='kw'>=</span> <span class='st'>'[0.2,1x1]'</span>,
   <span class='kw'>c</span> <span class='kw'>=</span> <span class='st'>'[2,0]'</span>,  <span class='kw'>i</span> <span class='kw'>=</span> <span class='no'>segs1</span>$<span class='no'>probabilityimages</span>, <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>mask</span> )

<span class='no'>feats</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='no'>img</span>, <span class='fu'><a href='iMath.html'>iMath</a></span>(<span class='no'>img</span>,<span class='st'>"Laplacian"</span>), <span class='fu'><a href='iMath.html'>iMath</a></span>(<span class='no'>img</span>,<span class='st'>"Grad"</span>) )
<span class='no'>segs3</span> <span class='kw'>&lt;-</span> <span class='fu'>atropos</span>( <span class='kw'>a</span> <span class='kw'>=</span> <span class='no'>feats</span>, <span class='kw'>m</span> <span class='kw'>=</span> <span class='st'>'[0.2,1x1]'</span>,
   <span class='kw'>c</span> <span class='kw'>=</span> <span class='st'>'[2,0]'</span>,  <span class='kw'>i</span> <span class='kw'>=</span> <span class='no'>segs1</span>$<span class='no'>probabilityimages</span>, <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>mask</span> )</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Shrinidhi KL, B Avants</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Brian B. Avants, Benjamin M. Kandel, Philip A. Cook, Nicholas J. Tustison, John Muschelli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

